<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drowsiness Monitoring Dashboard</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <!-- <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Drowsiness Monitoring</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Logout</a>
                </li>
            </ul>
        </div>
    </nav> -->
    <!-- <div class="category_heading">
        <h4>Your State</h4>
    </div> -->
    <!-- <div class="category_items">   
        {% for image in images %}
        <div class="box">
            <a href="#"><img src="data:image/jpeg;base64,{{ image.image }}" alt="Image" class="sale_item"></a>
            <p style="text-align: center;">Timestamp: {{ image.timestamp }}</p>
        </div>
        {% endfor %} -->
    <!-- <a href="#"><img src="images/offers/1.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/1.png" class="sale_item"></a> -->
    <!-- <a href="#"><img src="images/offers/1.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/1.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/6.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/7.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/8.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/9.png" class="sale_item"></a>
        <a href="#"><img src="images/offers/10.png" class="sale_item"></a> -->
    <!-- </div> -->
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">Drowsiness Monitoring</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <form class="form-inline ml-auto">
          <input
            class="form-control mr-sm-2"
            type="search"
            placeholder="Search by Timestamp"
            aria-label="Search"
          />
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">
            Search
          </button>
        </form>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Logout</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <main>
      <div class="container table-responsive py-5">
        <table class="table table-bordered table-hover">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Timestamp</th>
              <th scope="col">Heat Index</th>
              <th scope="col">mq3</th>
              <th scope="col">mq7</th>
              <th scope="col">mq135</th>
              <th scope="col">Frame</th>
            </tr>
          </thead>
          <tbody>
            {% for image in images %}
            <tr>
              <td>{{image.timestamp}}</td>
              <td>{{image.heatIndex}}</td>
              <td>{{image.mq3}}</td>
              <td>{{image.mq7}}</td>
              <td>{{image.mq135}}</td>
              <td style="justify-content: center">
                <img
                  src="data:image/jpeg;base64,{{ image.image }}"
                  alt="Image"
                  class="sale_item"
                />
              </td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
      </div>
      <!-- <div class="container">
        <h2>Drowsiness Data</h2>
        <table class="table" id="imageTable">
          <thead>
            <tr>
              <th scope="col">Timestamp</th>
              <th scope="col">Image</th>
            </tr>
          </thead>
          <tbody id="imageTableBody">
            {% for image in images %}
            <tr>
              <td>{{image.timestamp}}</td>
              <td>
                <img
                  src="data:image/jpeg;base64,{{ image.image }}"
                  alt="Image"
                  class="sale_item"
                />
              </td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
      </div> -->
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        document
          .querySelector("#imageTable")
          .addEventListener("input", function () {
            const searchText = document
              .querySelector("#searchText")
              .value.toLowerCase();
            const rows = document.querySelectorAll("#imageTableBody tr");
            rows.forEach((row) => {
              const timestamp = row
                .querySelector("td")
                .textContent.toLowerCase();
              if (timestamp.includes(searchText)) {
                row.style.display = "";
              } else {
                row.style.display = "none";
              }
            });
          });
      });
    </script>
  </body>
</html>
